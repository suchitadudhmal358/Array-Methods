<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Map method / filter() / find()</title>
  </head>
  <body>
    <script>
      const faces = ["😃", "🤠", "🤡", "🤑", "😵", "🌞", "🐶", "😺"];

      function addArms(face) {
        return `👋 ${face} 👋`;
      }
      const toys = faces.map(addArms);
      console.log(toys);

      function capitalize(word) {
        return `${word[0].toUpperCase()}${word.slice(1)}`;
      }

      function bosify(name) {
        return `${name} Bos`;
      }
      const fullName = ["wes", "kait", "poppy"].map(capitalize).map(bosify);
      console.log(fullName);

      const orderTotals = [342, 1002, 523, 34, 634, 854, 1644, 2222];
      const orderTotalsWithTax = orderTotals.map((total) => {
        return total * 1.13;
      });
      console.log(orderTotalsWithTax);

      //4rth example
      function attachBody(face, body) {
        return `
         ${face}
        ${body.repeat(3)}
        ${Array(3).fill(body).join(" ")} 
      👇🏽 ${Array(2).fill(body).join(" ")} 👇🏽
        ${Array(2).fill(body).join(" ")} 
        ${Array(2).fill(body).join(" ")} 
        👢　　👢
          `;
        //Array(3) creates empty array with length 3, fill(2) fill the all items with 2 i.e [2,2,2]
      }
      faces
        .map((face) => attachBody(face, "🍟"))
        .forEach((body) => console.log(body));

      // 5th example
      const people = [
        {
          birthday: "April 22, 1993",
          names: {
            first: "Keith",
            last: "Buckley",
          },
        },
        {
          birthday: "January 3, 1975",
          names: {
            first: "Larry",
            last: "Heep",
          },
        },
        {
          birthday: "February 12, 1944",
          names: {
            first: "Linda",
            last: "Bermeer",
          },
        },
      ];

      const cleanPeople = people.map(function (person) {
        console.log(person);
        const birthday = new Date(person.birthday);
        const now = new Date();
        console.log(birthday, now);
        const age = Math.floor((now - birthday) / 31536000000);
        // console.log(age);
        return {
          age,
          name: `${person.names.first} ${person.names.last}`,
        };
      });
      console.table(cleanPeople);
      //filter()
      // give the people whose age is > 40
      const over40 = cleanPeople.filter((person) => person.age > 40);
      console.table(over40);

      //find()
      const students = [
        {
          id: "11ce",
          first_name: "Dall",
          last_name: "Puckring",
        },
        {
          id: "2958",
          first_name: "Margarete",
          last_name: "Brandi",
        },
        {
          id: "565a",
          first_name: "Bendicty",
          last_name: "Woodage",
        },
        {
          id: "3a16",
          first_name: "Micki",
          last_name: "Mattes",
        },
        {
          id: "f396",
          first_name: "Flory",
          last_name: "Gladeche",
        },
        {
          id: "de5f",
          first_name: "Jamill",
          last_name: "Emilien",
        },
        {
          id: "54cb",
          first_name: "Brett",
          last_name: "Aizikowitz",
        },
        {
          id: "9135",
          first_name: "Lorry",
          last_name: "Smallman",
        },
        {
          id: "978f",
          first_name: "Gilly",
          last_name: "Flott",
        },
      ];
      const student = students.find((stud) => stud.id === "565a");
      console.log(student);
      //find student by property i.e key and its value
      function findByProp(prop, propValue) {
        return function isStudent(student) {
          return student[prop] === propValue;
        };
      }

      const student1 = students.find(findByProp("id", "565a"));
      const student2 = students.find(findByProp("first_name", "Micki"));
      console.log(student1);
      console.log(student2);
    </script>
  </body>
</html>
